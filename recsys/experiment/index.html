
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../images/icon_no_borders.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.16">
    
    
      
        <title>Experiment class - ClayRS documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1c3799f8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#experiment-class" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ClayRS documentation" class="md-header__button md-logo" aria-label="ClayRS documentation" data-md-component="logo">
      
  <img src="../../images/icon_no_borders.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ClayRS documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Experiment class
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/swapUniba/ClayRS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    swapUniba/ClayRS
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../first_steps/installation/" class="md-tabs__link">
        First steps
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../content_analyzer/introduction/" class="md-tabs__link">
        Content Analyzer
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../introduction/" class="md-tabs__link md-tabs__link--active">
        Recsys
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../evaluation/introduction/" class="md-tabs__link">
        Evaluation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../utils/report/" class="md-tabs__link">
        Utils
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ClayRS documentation" class="md-nav__button md-logo" aria-label="ClayRS documentation" data-md-component="logo">
      
  <img src="../../images/icon_no_borders.svg" alt="logo">

    </a>
    ClayRS documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/swapUniba/ClayRS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    swapUniba/ClayRS
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          First steps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="First steps" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          First steps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../first_steps/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../first_steps/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../first_steps/colab_examples/" class="md-nav__link">
        Colab examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Content Analyzer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Content Analyzer" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Content Analyzer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/config/" class="md-nav__link">
        Content Analyzer config and class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/raw_sources/" class="md-nav__link">
        Raw source wrappers
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Ratings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ratings" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Ratings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/ratings/ratings/" class="md-nav__link">
        Ratings class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/ratings/score_processors/" class="md-nav__link">
        Score processors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_5">
          Information Preprocessors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Information Preprocessors" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Information Preprocessors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/information_preprocessors/nltk/" class="md-nav__link">
        NLTK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/information_preprocessors/spacy/" class="md-nav__link">
        Spacy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/information_preprocessors/ekphrasis/" class="md-nav__link">
        Ekphrasis
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" type="checkbox" id="__nav_3_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_6">
          Content Techniques
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Content Techniques" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Content Techniques
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6_1" type="checkbox" id="__nav_3_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_6_1">
          Embedding techniques
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Embedding techniques" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_6_1">
          <span class="md-nav__icon md-icon"></span>
          Embedding techniques
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/embedding_techniques/word_embeddings/" class="md-nav__link">
        Word Embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/embedding_techniques/sentence_embeddings/" class="md-nav__link">
        Sentence Embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/embedding_techniques/document_embeddings/" class="md-nav__link">
        Document Embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/embedding_techniques/combining_embeddings/" class="md-nav__link">
        Combining Embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/embedding_techniques/contextualized_embeddings/" class="md-nav__link">
        Contextualized Embeddings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/tfidf/" class="md-nav__link">
        TfIdf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/original_data/" class="md-nav__link">
        Original Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/content_techniques/synset_df_frequency/" class="md-nav__link">
        Synset Document Frequency
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" type="checkbox" id="__nav_3_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7">
          Exogenous Techniques
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Exogenous Techniques" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Exogenous Techniques
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/exogenous_techniques/dbpedia/" class="md-nav__link">
        DBPedia Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/exogenous_techniques/properties_from_dataset/" class="md-nav__link">
        Properties From Dataset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/exogenous_techniques/babelfy/" class="md-nav__link">
        BabelFy Entity Linking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8" type="checkbox" id="__nav_3_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_8">
          Memory Interfaces
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Memory Interfaces" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Memory Interfaces
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../content_analyzer/index_interface/" class="md-nav__link">
        Index Interface
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Recsys
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recsys" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Recsys
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Partitioning techniques
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Partitioning techniques" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Partitioning techniques
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../partitioning/abstract_partitioning/" class="md-nav__link">
        Abstract Partitioning class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../partitioning/hold_out/" class="md-nav__link">
        Hold Out
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../partitioning/kfold/" class="md-nav__link">
        KFold
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Content Based recommendation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Content Based recommendation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Content Based recommendation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../content_based/content_based_recsys/" class="md-nav__link">
        Content Based recsys
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_2" type="checkbox" id="__nav_4_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3_2">
          Content Based algorithms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Content Based algorithms" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          Content Based algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../content_based/content_based_algorithms/centroid_vector/" class="md-nav__link">
        Centroid Vector
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../content_based/content_based_algorithms/classifier_recommender/" class="md-nav__link">
        Classifier Recommender
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../content_based/content_based_algorithms/linear_predictor/" class="md-nav__link">
        Linear Predictor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../content_based/content_based_algorithms/index_query/" class="md-nav__link">
        Index Query
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Graph based recommendation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph based recommendation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Graph based recommendation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/graph_based_recsys/" class="md-nav__link">
        Graph Based recsys
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_2" type="checkbox" id="__nav_4_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_2">
          Graphs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graphs" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_2">
          <span class="md-nav__icon md-icon"></span>
          Graphs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/graphs/nodes/" class="md-nav__link">
        Nodes categories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/graphs/nx_bipartite/" class="md-nav__link">
        Bipartite Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/graphs/nx_tripartite/" class="md-nav__link">
        Tripartite Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/graphs/nx_full/" class="md-nav__link">
        Full Graph
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_3" type="checkbox" id="__nav_4_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_3">
          Graph Based algorithms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph Based algorithms" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_3">
          <span class="md-nav__icon md-icon"></span>
          Graph Based algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/graph_based_algorithms/nx_pagerank/" class="md-nav__link">
        Page Rank
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_based/feature_selection/" class="md-nav__link">
        Feature Selection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Experiment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Experiment" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Experiment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Experiment class
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Experiment class
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clayrs.recsys.ContentBasedExperiment" class="md-nav__link">
    ContentBasedExperiment
  </a>
  
    <nav class="md-nav" aria-label="ContentBasedExperiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.ContentBasedExperiment.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.ContentBasedExperiment.rank" class="md-nav__link">
    rank()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clayrs.recsys.GraphBasedExperiment" class="md-nav__link">
    GraphBasedExperiment
  </a>
  
    <nav class="md-nav" aria-label="GraphBasedExperiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.GraphBasedExperiment.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.GraphBasedExperiment.rank" class="md-nav__link">
    rank()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Methodologies
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Methodologies" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Methodologies
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methodology/abstract_methodology/" class="md-nav__link">
        Abstract Methodology class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methodology/test_ratings/" class="md-nav__link">
        TestRatings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methodology/test_items/" class="md-nav__link">
        TestItems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methodology/training_items/" class="md-nav__link">
        TrainingItems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methodology/all_items/" class="md-nav__link">
        AllItems
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Evaluation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Evaluation" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Evaluation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/eval_model/" class="md-nav__link">
        EvalModel class
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Metrics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Metrics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Metrics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/metrics/classification_metrics/" class="md-nav__link">
        Classification metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/metrics/ranking_metrics/" class="md-nav__link">
        Ranking metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/metrics/error_metrics/" class="md-nav__link">
        Error metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/metrics/fairness_metrics/" class="md-nav__link">
        Fairness metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/metrics/plot_metrics/" class="md-nav__link">
        Plot metrics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Statistical tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Statistical tests" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Statistical tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/statistical_tests/paired/" class="md-nav__link">
        Paired
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Utils" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/report/" class="md-nav__link">
        Report
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clayrs.recsys.ContentBasedExperiment" class="md-nav__link">
    ContentBasedExperiment
  </a>
  
    <nav class="md-nav" aria-label="ContentBasedExperiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.ContentBasedExperiment.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.ContentBasedExperiment.rank" class="md-nav__link">
    rank()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clayrs.recsys.GraphBasedExperiment" class="md-nav__link">
    GraphBasedExperiment
  </a>
  
    <nav class="md-nav" aria-label="GraphBasedExperiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.GraphBasedExperiment.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clayrs.recsys.experiment.GraphBasedExperiment.rank" class="md-nav__link">
    rank()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/swapUniba/ClayRS/edit/master/docs/recsys/experiment.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="experiment-class">Experiment class</h1>


<div class="doc doc-object doc-class">



<h2 id="clayrs.recsys.ContentBasedExperiment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ContentBasedExperiment</span><span class="p">(</span><span class="n">original_ratings</span><span class="p">,</span> <span class="n">partitioning_technique</span><span class="p">,</span> <span class="n">algorithm_list</span><span class="p">,</span> <span class="n">items_directory</span><span class="p">,</span> <span class="n">users_directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metric_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">report</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">output_folder</span><span class="o">=</span><span class="s1">&#39;experiment_result&#39;</span><span class="p">,</span> <span class="n">overwrite_if_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><span title="clayrs.recsys.experiment.Experiment">Experiment</span></code></p>

  
      <p>The <code>Experiment</code> class for <strong><em>content based algorithms</em></strong></p>
<p>It provides an easy interface to perform a complete experiment by comparing different cb-algorithms, starting from
<em>splitting</em> the dataset to <em>evaluating</em> predictions computed.
It is also capable of producing a <code>yml</code> report for both the recsys phase and the evaluation phase.</p>
<p>Both the evaluation phase and the report are <em>optional</em> and are produced only if specified.</p>
<p>All the results (<em>split</em>, <em>ranking</em>, <em>evaluation results</em>, etc.) will be saved in the folder specified with the
<code>output_folder</code> parameter. For each algorithm a different sub-folder will be created and named after it:</p>
<ul>
<li>If multiple instances of the same algorithm are present in the <code>algorithm_list</code>, sub-folders will be disambiguated
    depending on the order of execution (<code>algName_1</code>, <code>algName_2</code>, <code>algName_3</code>, etc.)</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Please remember that by default if a folder with same name of the <code>output_folder</code> parameter is present,
the experiment won't run and an exception will be raised. To overcome this, simply set the <code>overwrite_if_exists</code>
parameter to <code>True</code> or change the <code>output_folder</code>.</p>
</div>

<p><strong>Examples:</strong></p>
    <p>Suppose you want to compare:</p>
<ul>
<li>A <code>CentroidVector</code> algorithm</li>
<li>The <code>SVC</code> classifier</li>
<li>The <code>KNN</code> classifier</li>
</ul>
<p>For the three different configuration, an <code>HoldOut</code> partitioning technique should be used and results should
be evaluated on <span class="arithmatex">\(Precision\)</span> and <span class="arithmatex">\(Recall\)</span></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">clayrs.utils</span> <span class="kn">import</span> <span class="n">ContentBasedExperiment</span>
<span class="kn">from</span> <span class="nn">clayrs</span> <span class="kn">import</span> <span class="n">content_analyzer</span> <span class="k">as</span> <span class="n">ca</span>
<span class="kn">from</span> <span class="nn">clayrs</span> <span class="kn">import</span> <span class="n">content_analyzer</span> <span class="k">as</span> <span class="n">rs</span>

<span class="n">original_rat</span> <span class="o">=</span> <span class="n">ca</span><span class="o">.</span><span class="n">Ratings</span><span class="p">(</span><span class="n">ca</span><span class="o">.</span><span class="n">CSVFile</span><span class="p">(</span><span class="n">ratings_path</span><span class="p">))</span>

<span class="n">alg1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">CentroidVector</span><span class="p">({</span><span class="s1">&#39;Plot&#39;</span><span class="p">:</span> <span class="s1">&#39;tfidf&#39;</span><span class="p">},</span>
                         <span class="n">similarity</span><span class="o">=</span><span class="n">rs</span><span class="o">.</span><span class="n">CosineSimilarity</span><span class="p">())</span> <span class="c1"># (1)</span>

<span class="n">alg2</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">ClassifierRecommender</span><span class="p">({</span><span class="s1">&#39;Plot&#39;</span><span class="p">:</span> <span class="s1">&#39;tfidf&#39;</span><span class="p">},</span>
                                <span class="n">classifier</span><span class="o">=</span><span class="n">rs</span><span class="o">.</span><span class="n">SkSVC</span><span class="p">())</span> <span class="c1"># (2)</span>

<span class="n">alg3</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">ClassifierRecommender</span><span class="p">({</span><span class="s1">&#39;Plot&#39;</span><span class="p">:</span> <span class="s1">&#39;tfidf&#39;</span><span class="p">},</span>
                                 <span class="n">classifier</span><span class="o">=</span><span class="n">rs</span><span class="o">.</span><span class="n">SkKNN</span><span class="p">())</span> <span class="c1"># (3)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">ContentBasedExperiment</span><span class="p">(</span>
    <span class="n">original_ratings</span><span class="o">=</span><span class="n">rat</span><span class="p">,</span>

    <span class="n">partitioning_technique</span><span class="o">=</span><span class="n">rs</span><span class="o">.</span><span class="n">HoldOutPartitioning</span><span class="p">(),</span>

    <span class="n">algorithm_list</span><span class="o">=</span><span class="p">[</span><span class="n">alg1</span><span class="p">,</span> <span class="n">alg2</span><span class="p">,</span> <span class="n">alg3</span><span class="p">],</span>

    <span class="n">items_directory</span><span class="o">=</span><span class="n">movies_dir</span><span class="p">,</span>

    <span class="n">metric_list</span><span class="o">=</span><span class="p">[</span><span class="n">eva</span><span class="o">.</span><span class="n">Precision</span><span class="p">(),</span> <span class="n">eva</span><span class="o">.</span><span class="n">Recall</span><span class="p">()]</span>

    <span class="n">output_folder</span><span class="o">=</span><span class="s2">&quot;my_experiment&quot;</span>
<span class="p">)</span>

<span class="n">a</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Results will be saved in <em>my_experiment/CentroidVector_1</em></li>
<li>Results will be saved in <em>my_experiment/ClassifierRecommender_1</em></li>
<li>Results will be saved in <em>my_experiment/ClassifierRecommender_2</em></li>
</ol>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>original_ratings</code></td>
          <td class="doc-param-details">
            <p>Ratings object containing original interactions between users and items</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="clayrs.content_analyzer.Ratings" href="../../content_analyzer/ratings/ratings/#clayrs.content_analyzer.ratings_manager.Ratings">Ratings</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>partitioning_technique</code></td>
          <td class="doc-param-details">
            <p>Partitioning object which specifies how the original ratings should be split</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="clayrs.recsys.partitioning.Partitioning" href="../partitioning/abstract_partitioning/#clayrs.recsys.partitioning.Partitioning">Partitioning</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>algorithm_list</code></td>
          <td class="doc-param-details">
            <p>List of <strong>Content Based algorithms</strong> for which the whole experiment will be conducted</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<span title="clayrs.recsys.content_based_algorithm.content_based_algorithm.ContentBasedAlgorithm">ContentBasedAlgorithm</span>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>items_directory</code></td>
          <td class="doc-param-details">
            <p>Path to the folder containing serialized complexly represented items</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>users_directory</code></td>
          <td class="doc-param-details">
            <p>Path to the folder containing serialized complexly represented items. Needed only if
one or more algorithms in <code>algorithm_list</code> needs it</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>metric_list</code></td>
          <td class="doc-param-details">
            <p>List of metric with which predictions computed by the CBRS will be evaluated</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<span title="clayrs.evaluation.metrics.metrics.Metric">Metric</span>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>report</code></td>
          <td class="doc-param-details">
            <p>If <code>True</code>, a <code>yml</code> report will be produced for the recsys phase. It will be also produced for the
evaluation phase, but only if the <code>metric_list</code> parameter is set</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>output_folder</code></td>
          <td class="doc-param-details">
            <p>Path of the folder where all the results of the experiment will be saved</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;experiment_result&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>overwrite_if_exists</code></td>
          <td class="doc-param-details">
            <p>If <code>True</code> and the path set in <code>output_folder</code> points to an already existent directory,
it will be deleted and replaced by the folder containing the experiment results</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>


          <details class="quote">
            <summary>Source code in <code>clayrs/recsys/experiment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">original_ratings</span><span class="p">:</span> <span class="n">Ratings</span><span class="p">,</span>
             <span class="n">partitioning_technique</span><span class="p">:</span> <span class="n">Partitioning</span><span class="p">,</span>
             <span class="n">algorithm_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ContentBasedAlgorithm</span><span class="p">],</span>
             <span class="n">items_directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">users_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">metric_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Metric</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">report</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="n">output_folder</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;experiment_result&quot;</span><span class="p">,</span>
             <span class="n">overwrite_if_exists</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">original_ratings</span><span class="p">,</span> <span class="n">partitioning_technique</span><span class="p">,</span> <span class="n">algorithm_list</span><span class="p">,</span> <span class="n">items_directory</span><span class="p">,</span> <span class="n">users_directory</span><span class="p">,</span>
                     <span class="n">metric_list</span><span class="p">,</span> <span class="n">report</span><span class="p">,</span> <span class="n">output_folder</span><span class="p">,</span> <span class="n">overwrite_if_exists</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="clayrs.recsys.experiment.ContentBasedExperiment.predict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="n">user_id_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">TestRatingsMethodology</span><span class="p">(),</span> <span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">skip_alg_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Method used to perform an experiment which involves <strong><em>score predictions</em></strong>.</p>
<p>The method will first split the original ratings passed in the constructor in train and test set, then
the Recommender System will be fit for each user in the train set.</p>
<p>If the algorithm can't be fit for some users, a warning message is printed and no score predictions will be
computed for said user</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><strong>BE CAREFUL</strong>: not all algorithms are able to perform <em>score prediction</em>. In case a pure ranking algorithm
is asked to perform score prediction, the <code>NotPredictionAlg</code> will be raised. if the <code>skip_alg_error</code> is set
to <code>True</code>, then said exception will be caught, a warning will be printed, and the experiment will go on with
the next algorithm</p>
</div>
<p>Via the <code>methodology</code> parameter you can perform different candidate item selection. By default, the
<code>TestRatingsMethodology()</code> is used: so, for each user, items in its test set only will be considered for score
prediction</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>user_id_list</code></td>
          <td class="doc-param-details">
            <p>List of users for which you want to compute the ranking. If None, the ranking will be computed
for all users of the <code>test_set</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>methodology</code></td>
          <td class="doc-param-details">
            <p><code>Methodology</code> object which governs the candidate item selection. Default is
<code>TestRatingsMethodology</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="clayrs.recsys.methodology.Methodology" href="../methodology/abstract_methodology/#clayrs.recsys.methodology.Methodology">Methodology</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>TestRatingsMethodology()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>num_cpus</code></td>
          <td class="doc-param-details">
            <p>number of processors that must be reserved for the method. Default is 0, meaning that
the number of cpus will be automatically detected.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>1</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>skip_alg_error</code></td>
          <td class="doc-param-details">
            <p>If set to <code>True</code>, a pure ranking algorithm will be skipped and the experiment will continue
with the following algorithm. Otherwise, the <code>NotPredictionAlg</code> exception raised will be re-raised</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>True</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><span title="clayrs.recsys.content_based_algorithm.exceptions.NotPredictionAlg">NotPredictionAlg</span></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <p>When a pure ranking algorithm is asked to perform score prediction and
<code>skip_alg_error</code> == False</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>clayrs/recsys/experiment.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">user_id_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">methodology</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Methodology</span><span class="p">]</span> <span class="o">=</span> <span class="n">TestRatingsMethodology</span><span class="p">(),</span>
            <span class="n">num_cpus</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">skip_alg_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method used to perform an experiment which involves ***score predictions***.</span>

<span class="sd">    The method will first split the original ratings passed in the constructor in train and test set, then</span>
<span class="sd">    the Recommender System will be fit for each user in the train set.</span>

<span class="sd">    If the algorithm can&#39;t be fit for some users, a warning message is printed and no score predictions will be</span>
<span class="sd">    computed for said user</span>

<span class="sd">    !!! info</span>

<span class="sd">        **BE CAREFUL**: not all algorithms are able to perform *score prediction*. In case a pure ranking algorithm</span>
<span class="sd">        is asked to perform score prediction, the `NotPredictionAlg` will be raised. if the `skip_alg_error` is set</span>
<span class="sd">        to `True`, then said exception will be caught, a warning will be printed, and the experiment will go on with</span>
<span class="sd">        the next algorithm</span>

<span class="sd">    Via the `methodology` parameter you can perform different candidate item selection. By default, the</span>
<span class="sd">    `TestRatingsMethodology()` is used: so, for each user, items in its test set only will be considered for score</span>
<span class="sd">    prediction</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id_list: List of users for which you want to compute the ranking. If None, the ranking will be computed</span>
<span class="sd">            for all users of the `test_set`</span>
<span class="sd">        methodology: `Methodology` object which governs the candidate item selection. Default is</span>
<span class="sd">            `TestRatingsMethodology`</span>
<span class="sd">        num_cpus: number of processors that must be reserved for the method. Default is 0, meaning that</span>
<span class="sd">            the number of cpus will be automatically detected.</span>
<span class="sd">        skip_alg_error: If set to `True`, a pure ranking algorithm will be skipped and the experiment will continue</span>
<span class="sd">            with the following algorithm. Otherwise, the `NotPredictionAlg` exception raised will be re-raised</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotPredictionAlg: When a pure ranking algorithm is asked to perform score prediction and</span>
<span class="sd">            `skip_alg_error` == False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">cb_fit_predict</span><span class="p">(</span><span class="n">split_num</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="n">test_set</span><span class="p">,</span> <span class="n">dirname</span><span class="p">):</span>
        <span class="n">cbrs</span> <span class="o">=</span> <span class="n">ContentBasedRS</span><span class="p">(</span><span class="n">alg</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">items_directory</span><span class="p">)</span>

        <span class="n">predict_alg</span> <span class="o">=</span> <span class="n">cbrs</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">methodology</span><span class="p">,</span> <span class="n">num_cpus</span><span class="o">=</span><span class="n">num_cpus</span><span class="p">,</span>
                                       <span class="n">user_id_list</span><span class="o">=</span><span class="n">user_id_list</span><span class="p">)</span>

        <span class="n">predict_alg</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;rs_predict_split</span><span class="si">{</span><span class="n">split_num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">report</span><span class="p">:</span>
            <span class="n">Report</span><span class="p">(</span><span class="n">output_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">yaml</span><span class="p">(</span><span class="n">original_ratings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_ratings</span><span class="p">,</span>
                                                                      <span class="n">partitioning_technique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pt</span><span class="p">,</span>
                                                                      <span class="n">recsys</span><span class="o">=</span><span class="n">cbrs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">predict_alg</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">main_experiment</span><span class="p">(</span><span class="n">cb_fit_predict</span><span class="p">,</span> <span class="n">skip_alg_error</span><span class="o">=</span><span class="n">skip_alg_error</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="clayrs.recsys.experiment.ContentBasedExperiment.rank" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rank</span><span class="p">(</span><span class="n">n_recs</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">user_id_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">TestRatingsMethodology</span><span class="p">(),</span> <span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Method used to perform an experiment which involves <strong><em>rankings</em></strong>.</p>
<p>The method will first split the original ratings passed in the constructor in train and test set, then
the Recommender System will be fit for each user in the train.
If the algorithm can't be fit for some users, a warning message is printed and no ranking will be
computed for said user</p>
<p>Via the <code>methodology</code> parameter you can perform different candidate item selection. By default, the
<code>TestRatingsMethodology()</code> is used: so, for each user, items in its test set only will be considered as eligible
for ranking</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_recs</code></td>
          <td class="doc-param-details">
            <p>Number of the top items that will be present in the ranking of each user.
If <code>None</code> all candidate items will be returned for the user</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>10</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>user_id_list</code></td>
          <td class="doc-param-details">
            <p>List of users for which you want to compute the ranking. If None, the ranking will be computed
for all users of the <code>test_set</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>methodology</code></td>
          <td class="doc-param-details">
            <p><code>Methodology</code> object which governs the candidate item selection. Default is
<code>TestRatingsMethodology</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="clayrs.recsys.methodology.Methodology" href="../methodology/abstract_methodology/#clayrs.recsys.methodology.Methodology">Methodology</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>TestRatingsMethodology()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>num_cpus</code></td>
          <td class="doc-param-details">
            <p>number of processors that must be reserved for the method. Default is 0, meaning that
the number of cpus will be automatically detected</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>1</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>clayrs/recsys/experiment.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rank</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
         <span class="n">n_recs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
         <span class="n">user_id_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">methodology</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Methodology</span><span class="p">]</span> <span class="o">=</span> <span class="n">TestRatingsMethodology</span><span class="p">(),</span>
         <span class="n">num_cpus</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method used to perform an experiment which involves ***rankings***.</span>

<span class="sd">    The method will first split the original ratings passed in the constructor in train and test set, then</span>
<span class="sd">    the Recommender System will be fit for each user in the train.</span>
<span class="sd">    If the algorithm can&#39;t be fit for some users, a warning message is printed and no ranking will be</span>
<span class="sd">    computed for said user</span>

<span class="sd">    Via the `methodology` parameter you can perform different candidate item selection. By default, the</span>
<span class="sd">    `TestRatingsMethodology()` is used: so, for each user, items in its test set only will be considered as eligible</span>
<span class="sd">    for ranking</span>

<span class="sd">    Args:</span>
<span class="sd">        n_recs: Number of the top items that will be present in the ranking of each user.</span>
<span class="sd">            If `None` all candidate items will be returned for the user</span>
<span class="sd">        user_id_list: List of users for which you want to compute the ranking. If None, the ranking will be computed</span>
<span class="sd">            for all users of the `test_set`</span>
<span class="sd">        methodology: `Methodology` object which governs the candidate item selection. Default is</span>
<span class="sd">            `TestRatingsMethodology`</span>
<span class="sd">        num_cpus: number of processors that must be reserved for the method. Default is 0, meaning that</span>
<span class="sd">            the number of cpus will be automatically detected</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">cb_fit_rank</span><span class="p">(</span><span class="n">split_num</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="n">test_set</span><span class="p">,</span> <span class="n">dirname</span><span class="p">):</span>
        <span class="n">cbrs</span> <span class="o">=</span> <span class="n">ContentBasedRS</span><span class="p">(</span><span class="n">alg</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">items_directory</span><span class="p">)</span>

        <span class="n">predict_alg</span> <span class="o">=</span> <span class="n">cbrs</span><span class="o">.</span><span class="n">fit_rank</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">n_recs</span><span class="o">=</span><span class="n">n_recs</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">methodology</span><span class="p">,</span>
                                    <span class="n">user_id_list</span><span class="o">=</span><span class="n">user_id_list</span><span class="p">,</span> <span class="n">num_cpus</span><span class="o">=</span><span class="n">num_cpus</span><span class="p">)</span>

        <span class="n">predict_alg</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;rs_rank_split</span><span class="si">{</span><span class="n">split_num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">report</span><span class="p">:</span>
            <span class="n">Report</span><span class="p">(</span><span class="n">output_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">yaml</span><span class="p">(</span><span class="n">original_ratings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_ratings</span><span class="p">,</span>
                                                                      <span class="n">partitioning_technique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pt</span><span class="p">,</span>
                                                                      <span class="n">recsys</span><span class="o">=</span><span class="n">cbrs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">predict_alg</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">main_experiment</span><span class="p">(</span><span class="n">cb_fit_rank</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="clayrs.recsys.GraphBasedExperiment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">GraphBasedExperiment</span><span class="p">(</span><span class="n">original_ratings</span><span class="p">,</span> <span class="n">partitioning_technique</span><span class="p">,</span> <span class="n">algorithm_list</span><span class="p">,</span> <span class="n">items_directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item_exo_properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">users_directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_exo_properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">link_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metric_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">report</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">output_folder</span><span class="o">=</span><span class="s1">&#39;experiment_result&#39;</span><span class="p">,</span> <span class="n">overwrite_if_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><span title="clayrs.recsys.experiment.Experiment">Experiment</span></code></p>

  
      <p>The <code>Experiment</code> class for <strong><em>graph based algorithms</em></strong></p>
<p>It provides an easy interface to perform a <strong>complete experiment</strong> by comparing different gb-algorithms, starting
from <em>splitting</em> the dataset to <em>evaluating</em> predictions computed.</p>
<p>Every graph based algorithm expects a graph: that's why right before computing ranking/score predictions, a graph
will be created depending on the current train and test split (if multiple are available):</p>
<ul>
<li>All the nodes from the original graph will be present, The interactions in the test set will be
    missing (It won't be represented as a link between a user node and an item node)</li>
</ul>
<p>The class is also capable of producing a <code>yml</code> report for both the recsys phase and the evaluation phase.</p>
<p>Both the evaluation phase and the report are optional and are produced only if specified.</p>
<p>All the results (<em>split</em>, <em>ranking</em>, <em>evaluation results</em>, etc.) will be saved in the folder specified with the
<code>output_folder</code> parameter. For each algorithm a different sub-folder will be created and named after it:</p>
<ul>
<li>If multiple instances of the same algorithm are present in the <code>algorithm_list</code>, sub-folders will be disambiguated
    depending on the order of execution (<code>algName_1</code>, <code>algName_2</code>, <code>algName_3</code>, etc.)</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Please remember that by default if a folder with same name of the <code>output_folder</code> parameter is present,
the experiment won't run and an exception will be raised. To overcome this, simply set the <code>overwrite_if_exists</code>
parameter to <code>True</code> or change the <code>output_folder</code>.</p>
</div>

<p><strong>Examples:</strong></p>
    <p>Suppose you want to compare:</p>
<ul>
<li>The <code>PageRank</code> algorithm with <code>alpha=0.8</code></li>
<li>The <code>PageRank</code> algorithm with <code>alpha=0.9</code></li>
<li>The <code>Personalized PageRank</code> algorithm</li>
</ul>
<p>For the three different configuration, a <code>KFold</code> partitioning technique with three splits should be used and
results should be evaluated on <span class="arithmatex">\(Precision\)</span>, <span class="arithmatex">\(Recall\)</span>, <span class="arithmatex">\(NDCG\)</span></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">clayrs.utils</span> <span class="kn">import</span> <span class="n">GraphBasedExperiment</span>
<span class="kn">from</span> <span class="nn">clayrs</span> <span class="kn">import</span> <span class="n">content_analyzer</span> <span class="k">as</span> <span class="n">ca</span>
<span class="kn">from</span> <span class="nn">clayrs</span> <span class="kn">import</span> <span class="n">content_analyzer</span> <span class="k">as</span> <span class="n">rs</span>

<span class="n">original_rat</span> <span class="o">=</span> <span class="n">ca</span><span class="o">.</span><span class="n">Ratings</span><span class="p">(</span><span class="n">ca</span><span class="o">.</span><span class="n">CSVFile</span><span class="p">(</span><span class="n">ratings_path</span><span class="p">))</span>

<span class="n">alg1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">NXPageRank</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span> <span class="c1"># (1)</span>

<span class="n">alg2</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">NXPageRank</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span> <span class="c1"># (2)</span>

<span class="n">alg3</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">NXPageRank</span><span class="p">(</span><span class="n">personalized</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># (3)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">GraphBasedExperiment</span><span class="p">(</span>
    <span class="n">original_ratings</span><span class="o">=</span><span class="n">rat</span><span class="p">,</span>

    <span class="n">partitioning_technique</span><span class="o">=</span><span class="n">rs</span><span class="o">.</span><span class="n">KFoldPartitioning</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>

    <span class="n">algorithm_list</span><span class="o">=</span><span class="p">[</span><span class="n">alg1</span><span class="p">,</span> <span class="n">alg2</span><span class="p">,</span> <span class="n">alg3</span><span class="p">],</span>

    <span class="n">items_directory</span><span class="o">=</span><span class="n">movies_dir</span><span class="p">,</span>

    <span class="n">metric_list</span><span class="o">=</span><span class="p">[</span><span class="n">eva</span><span class="o">.</span><span class="n">Precision</span><span class="p">(),</span> <span class="n">eva</span><span class="o">.</span><span class="n">Recall</span><span class="p">()]</span>

    <span class="n">output_folder</span><span class="o">=</span><span class="s2">&quot;my_experiment&quot;</span>
<span class="p">)</span>

<span class="n">a</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Results will be saved in <em>my_experiment/NXPageRank_1</em></li>
<li>Results will be saved in <em>my_experiment/NXPageRank_2</em></li>
<li>Results will be saved in <em>my_experiment/NXPageRank_3</em></li>
</ol>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>original_ratings</code></td>
          <td class="doc-param-details">
            <p>Ratings object containing original interactions between users and items</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="clayrs.content_analyzer.Ratings" href="../../content_analyzer/ratings/ratings/#clayrs.content_analyzer.ratings_manager.Ratings">Ratings</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>partitioning_technique</code></td>
          <td class="doc-param-details">
            <p>Partitioning object which specifies how the original ratings should be split</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="clayrs.recsys.partitioning.Partitioning" href="../partitioning/abstract_partitioning/#clayrs.recsys.partitioning.Partitioning">Partitioning</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>algorithm_list</code></td>
          <td class="doc-param-details">
            <p>List of <strong>Graph Based algorithms</strong> for which the whole experiment will be conducted</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<span title="clayrs.recsys.graph_based_algorithm.graph_based_algorithm.GraphBasedAlgorithm">GraphBasedAlgorithm</span>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>items_directory</code></td>
          <td class="doc-param-details">
            <p>Path to the folder containing serialized complexly represented items with one or more
exogenous property to load</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>item_exo_properties</code></td>
          <td class="doc-param-details">
            <p>Set or Dict which contains representations to load from items. Use a <code>Set</code> if you want
to load all properties from specific representations, or use a <code>Dict</code> if you want to choose which properties
to load from specific representations</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#set">set</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>users_directory</code></td>
          <td class="doc-param-details">
            <p>Path to the folder containing serialized complexly represented users with one or more
exogenous property to load</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>user_exo_properties</code></td>
          <td class="doc-param-details">
            <p>Set or Dict which contains representations to load from items. Use a <code>Set</code> if you want
to load all properties from specific representations, or use a <code>Dict</code> if you want to choose which properties
to load from specific representations</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#set">set</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>link_label</code></td>
          <td class="doc-param-details">
            <p>If specified, each link between user and item nodes will be labeled with the given label.
Default is None</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>metric_list</code></td>
          <td class="doc-param-details">
            <p>List of metric with which predictions computed by the GBRS will be evaluated</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<span title="clayrs.evaluation.metrics.metrics.Metric">Metric</span>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>report</code></td>
          <td class="doc-param-details">
            <p>If <code>True</code>, a <code>yml</code> report will be produced for the recsys phase. It will be also produced for the
evaluation phase, but only if the <code>metric_list</code> parameter is set</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>output_folder</code></td>
          <td class="doc-param-details">
            <p>Path of the folder where all the results of the experiment will be saved</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>&#39;experiment_result&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>overwrite_if_exists</code></td>
          <td class="doc-param-details">
            <p>If <code>True</code> and the path set in <code>output_folder</code> points to an already existent directory,
it will be deleted and replaced by the folder containing the experiment results</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>


          <details class="quote">
            <summary>Source code in <code>clayrs/recsys/experiment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">original_ratings</span><span class="p">:</span> <span class="n">Ratings</span><span class="p">,</span>
             <span class="n">partitioning_technique</span><span class="p">:</span> <span class="n">Partitioning</span><span class="p">,</span>
             <span class="n">algorithm_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">GraphBasedAlgorithm</span><span class="p">],</span>
             <span class="n">items_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">item_exo_properties</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="nb">set</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">users_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">user_exo_properties</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="nb">set</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">link_label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">metric_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Metric</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">report</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="n">output_folder</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;experiment_result&quot;</span><span class="p">,</span>
             <span class="n">overwrite_if_exists</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">original_ratings</span><span class="p">,</span> <span class="n">partitioning_technique</span><span class="p">,</span> <span class="n">algorithm_list</span><span class="p">,</span> <span class="n">items_directory</span><span class="p">,</span> <span class="n">users_directory</span><span class="p">,</span>
                     <span class="n">metric_list</span><span class="p">,</span> <span class="n">report</span><span class="p">,</span> <span class="n">output_folder</span><span class="p">,</span> <span class="n">overwrite_if_exists</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">item_exo_properties</span> <span class="o">=</span> <span class="n">item_exo_properties</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user_exo_properties</span> <span class="o">=</span> <span class="n">user_exo_properties</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">link_label</span> <span class="o">=</span> <span class="n">link_label</span>
</code></pre></div></td></tr></table></div>
          </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="clayrs.recsys.experiment.GraphBasedExperiment.predict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="n">user_id_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">TestRatingsMethodology</span><span class="p">(),</span> <span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">skip_alg_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Method used to perform an experiment which involves <strong><em>score predictions</em></strong>.</p>
<p>The method will first split the original ratings passed in the constructor in train and test set, then
a graph will be built depending on them:</p>
<ul>
<li>All nodes of the original ratings will be present, but the <em>links</em> (<strong><em>interactions</em></strong>) that are present in
the test set will be missing, so to make the training phase <em>fair</em></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><strong>BE CAREFUL</strong>: not all algorithms are able to perform <em>score prediction</em>. In case a pure ranking algorithm
is asked to perform score prediction, the <code>NotPredictionAlg</code> will be raised. if the <code>skip_alg_error</code> is set
to <code>True</code>, then said exception will be caught, a warning will be printed, and the experiment will go on with
the next algorithm</p>
</div>
<p>Via the <code>methodology</code> parameter you can perform different candidate item selection. By default, the
<code>TestRatingsMethodology()</code> is used: so, for each user, items in its test set only will be considered for score
prediction</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>user_id_list</code></td>
          <td class="doc-param-details">
            <p>List of users for which you want to compute the ranking. If None, the ranking will be computed
for all users of the <code>test_set</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>methodology</code></td>
          <td class="doc-param-details">
            <p><code>Methodology</code> object which governs the candidate item selection. Default is
<code>TestRatingsMethodology</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="clayrs.recsys.methodology.Methodology" href="../methodology/abstract_methodology/#clayrs.recsys.methodology.Methodology">Methodology</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>TestRatingsMethodology()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>num_cpus</code></td>
          <td class="doc-param-details">
            <p>number of processors that must be reserved for the method. Default is 0, meaning that
the number of cpus will be automatically detected.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>1</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>skip_alg_error</code></td>
          <td class="doc-param-details">
            <p>If set to <code>True</code>, a pure ranking algorithm will be skipped and the experiment will continue
with the following algorithm. Otherwise, the <code>NotPredictionAlg</code> exception raised will be re-raised</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>True</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><span title="clayrs.recsys.content_based_algorithm.exceptions.NotPredictionAlg">NotPredictionAlg</span></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <p>When a pure ranking algorithm is asked to perform score prediction
and <code>skip_alg_error</code> == False</p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>clayrs/recsys/experiment.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">user_id_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">methodology</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Methodology</span><span class="p">]</span> <span class="o">=</span> <span class="n">TestRatingsMethodology</span><span class="p">(),</span>
            <span class="n">num_cpus</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">skip_alg_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method used to perform an experiment which involves ***score predictions***.</span>

<span class="sd">    The method will first split the original ratings passed in the constructor in train and test set, then</span>
<span class="sd">    a graph will be built depending on them:</span>

<span class="sd">    * All nodes of the original ratings will be present, but the *links* (***interactions***) that are present in</span>
<span class="sd">    the test set will be missing, so to make the training phase *fair*</span>

<span class="sd">    !!! info</span>

<span class="sd">        **BE CAREFUL**: not all algorithms are able to perform *score prediction*. In case a pure ranking algorithm</span>
<span class="sd">        is asked to perform score prediction, the `NotPredictionAlg` will be raised. if the `skip_alg_error` is set</span>
<span class="sd">        to `True`, then said exception will be caught, a warning will be printed, and the experiment will go on with</span>
<span class="sd">        the next algorithm</span>

<span class="sd">    Via the `methodology` parameter you can perform different candidate item selection. By default, the</span>
<span class="sd">    `TestRatingsMethodology()` is used: so, for each user, items in its test set only will be considered for score</span>
<span class="sd">    prediction</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id_list: List of users for which you want to compute the ranking. If None, the ranking will be computed</span>
<span class="sd">            for all users of the `test_set`</span>
<span class="sd">        methodology: `Methodology` object which governs the candidate item selection. Default is</span>
<span class="sd">            `TestRatingsMethodology`</span>
<span class="sd">        num_cpus: number of processors that must be reserved for the method. Default is 0, meaning that</span>
<span class="sd">            the number of cpus will be automatically detected.</span>
<span class="sd">        skip_alg_error: If set to `True`, a pure ranking algorithm will be skipped and the experiment will continue</span>
<span class="sd">            with the following algorithm. Otherwise, the `NotPredictionAlg` exception raised will be re-raised</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotPredictionAlg: When a pure ranking algorithm is asked to perform score prediction</span>
<span class="sd">            and `skip_alg_error` == False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">gb_fit_predict</span><span class="p">(</span><span class="n">split_num</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="n">test_set</span><span class="p">,</span> <span class="n">dirname</span><span class="p">):</span>

        <span class="n">graph</span> <span class="o">=</span> <span class="n">NXFullGraph</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_ratings</span><span class="p">,</span>
                            <span class="n">item_contents_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">items_directory</span><span class="p">,</span>
                            <span class="n">item_exo_properties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_exo_properties</span><span class="p">,</span>
                            <span class="n">user_contents_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">users_directory</span><span class="p">,</span>
                            <span class="n">user_exo_properties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_exo_properties</span><span class="p">,</span>
                            <span class="n">link_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">link_label</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">user</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">test_set</span><span class="o">.</span><span class="n">user_id_column</span><span class="p">,</span> <span class="n">test_set</span><span class="o">.</span><span class="n">item_id_column</span><span class="p">):</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">remove_link</span><span class="p">(</span><span class="n">UserNode</span><span class="p">(</span><span class="n">user</span><span class="p">),</span> <span class="n">ItemNode</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>

        <span class="n">gbrs</span> <span class="o">=</span> <span class="n">GraphBasedRS</span><span class="p">(</span><span class="n">alg</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span>

        <span class="n">predict_alg</span> <span class="o">=</span> <span class="n">gbrs</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">methodology</span><span class="p">,</span>
                                   <span class="n">num_cpus</span><span class="o">=</span><span class="n">num_cpus</span><span class="p">,</span> <span class="n">user_id_list</span><span class="o">=</span><span class="n">user_id_list</span><span class="p">)</span>

        <span class="n">predict_alg</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;rs_predict_split</span><span class="si">{</span><span class="n">split_num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">report</span><span class="p">:</span>
            <span class="n">Report</span><span class="p">(</span><span class="n">output_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">yaml</span><span class="p">(</span><span class="n">original_ratings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_ratings</span><span class="p">,</span>
                                                                      <span class="n">partitioning_technique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pt</span><span class="p">,</span>
                                                                      <span class="n">recsys</span><span class="o">=</span><span class="n">gbrs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">predict_alg</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">main_experiment</span><span class="p">(</span><span class="n">gb_fit_predict</span><span class="p">,</span> <span class="n">skip_alg_error</span><span class="o">=</span><span class="n">skip_alg_error</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="clayrs.recsys.experiment.GraphBasedExperiment.rank" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rank</span><span class="p">(</span><span class="n">n_recs</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">user_id_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">TestRatingsMethodology</span><span class="p">(),</span> <span class="n">num_cpus</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Method used to perform an experiment which involves <strong><em>rankings</em></strong>.</p>
<p>The method will first split the original ratings passed in the constructor in train and test set, then
a graph will be built depending on them:</p>
<ul>
<li>All nodes of the original ratings will be present, but the <em>links</em> (<strong><em>interactions</em></strong>) that are present in
the test set will be missing, so to make the training phase <em>fair</em></li>
</ul>
<p>Via the <code>methodology</code> parameter you can perform different candidate item selection. By default, the
<code>TestRatingsMethodology()</code> is used, so for each user, items in its test set only will be eligible for ranking</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_recs</code></td>
          <td class="doc-param-details">
            <p>Number of the top items that will be present in the ranking of each user.
If <code>None</code> all candidate items will be returned for the user</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>10</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>user_id_list</code></td>
          <td class="doc-param-details">
            <p>List of users for which you want to compute the ranking. If None, the ranking will be computed
for all users of the <code>test_set</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>methodology</code></td>
          <td class="doc-param-details">
            <p><code>Methodology</code> object which governs the candidate item selection. Default is
<code>TestRatingsMethodology</code></p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="clayrs.recsys.methodology.Methodology" href="../methodology/abstract_methodology/#clayrs.recsys.methodology.Methodology">Methodology</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>TestRatingsMethodology()</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>num_cpus</code></td>
          <td class="doc-param-details">
            <p>number of processors that must be reserved for the method. Default is 0, meaning that
the number of cpus will be automatically detected.</p>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>1</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>clayrs/recsys/experiment.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rank</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
         <span class="n">n_recs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
         <span class="n">user_id_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">methodology</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Methodology</span><span class="p">]</span> <span class="o">=</span> <span class="n">TestRatingsMethodology</span><span class="p">(),</span>
         <span class="n">num_cpus</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method used to perform an experiment which involves ***rankings***.</span>

<span class="sd">    The method will first split the original ratings passed in the constructor in train and test set, then</span>
<span class="sd">    a graph will be built depending on them:</span>

<span class="sd">    * All nodes of the original ratings will be present, but the *links* (***interactions***) that are present in</span>
<span class="sd">    the test set will be missing, so to make the training phase *fair*</span>

<span class="sd">    Via the `methodology` parameter you can perform different candidate item selection. By default, the</span>
<span class="sd">    `TestRatingsMethodology()` is used, so for each user, items in its test set only will be eligible for ranking</span>

<span class="sd">    Args:</span>
<span class="sd">        n_recs: Number of the top items that will be present in the ranking of each user.</span>
<span class="sd">            If `None` all candidate items will be returned for the user</span>
<span class="sd">        user_id_list: List of users for which you want to compute the ranking. If None, the ranking will be computed</span>
<span class="sd">            for all users of the `test_set`</span>
<span class="sd">        methodology: `Methodology` object which governs the candidate item selection. Default is</span>
<span class="sd">            `TestRatingsMethodology`</span>
<span class="sd">        num_cpus: number of processors that must be reserved for the method. Default is 0, meaning that</span>
<span class="sd">            the number of cpus will be automatically detected.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">gb_fit_rank</span><span class="p">(</span><span class="n">split_num</span><span class="p">,</span> <span class="n">alg</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="n">test_set</span><span class="p">,</span> <span class="n">dirname</span><span class="p">):</span>

        <span class="n">graph</span> <span class="o">=</span> <span class="n">NXFullGraph</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_ratings</span><span class="p">,</span>
                            <span class="n">item_contents_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">items_directory</span><span class="p">,</span>
                            <span class="n">item_exo_properties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item_exo_properties</span><span class="p">,</span>
                            <span class="n">user_contents_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">users_directory</span><span class="p">,</span>
                            <span class="n">user_exo_properties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_exo_properties</span><span class="p">,</span>
                            <span class="n">link_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">link_label</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">user</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">test_set</span><span class="o">.</span><span class="n">user_id_column</span><span class="p">,</span> <span class="n">test_set</span><span class="o">.</span><span class="n">item_id_column</span><span class="p">):</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">remove_link</span><span class="p">(</span><span class="n">UserNode</span><span class="p">(</span><span class="n">user</span><span class="p">),</span> <span class="n">ItemNode</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>

        <span class="n">gbrs</span> <span class="o">=</span> <span class="n">GraphBasedRS</span><span class="p">(</span><span class="n">alg</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span>

        <span class="n">predict_alg</span> <span class="o">=</span> <span class="n">gbrs</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">n_recs</span><span class="o">=</span><span class="n">n_recs</span><span class="p">,</span> <span class="n">methodology</span><span class="o">=</span><span class="n">methodology</span><span class="p">,</span>
                                <span class="n">num_cpus</span><span class="o">=</span><span class="n">num_cpus</span><span class="p">,</span> <span class="n">user_id_list</span><span class="o">=</span><span class="n">user_id_list</span><span class="p">)</span>

        <span class="n">predict_alg</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;rs_rank_split</span><span class="si">{</span><span class="n">split_num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">report</span><span class="p">:</span>
            <span class="n">Report</span><span class="p">(</span><span class="n">output_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">dirname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">yaml</span><span class="p">(</span><span class="n">original_ratings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_ratings</span><span class="p">,</span>
                                                                      <span class="n">partitioning_technique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pt</span><span class="p">,</span>
                                                                      <span class="n">recsys</span><span class="o">=</span><span class="n">gbrs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">predict_alg</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">main_experiment</span><span class="p">(</span><span class="n">gb_fit_rank</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../graph_based/feature_selection/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Feature Selection" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Feature Selection
            </div>
          </div>
        </a>
      
      
        
        <a href="../methodology/abstract_methodology/" class="md-footer__link md-footer__link--next" aria-label="Next: Abstract Methodology class" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Abstract Methodology class
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Documentation made by Antonio Silletti
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/swapUniba" target="_blank" rel="noopener" title="Swap Uniba on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tooltips", "navigation.tabs", "navigation.top", "navigation.sections", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.3a4b43e5.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>